<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>MySQL | 听故事的人</title>
<meta name="description" content="天青色等烟雨，而我在等你">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://zzydy.github.io//favicon.ico?v=1720894926905">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://zzydy.github.io//styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148353246-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-148353246-1');
</script>


  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://zzydy.github.io/">
        <img src="https://zzydy.github.io//images/avatar.png?v=1720894926905" class="site-logo">
        <h1 class="site-title">听故事的人</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://zzydy.github.io/" class="site-nav">
            HOME
          </a>
        
      
        
          <a href="https://zzydy.github.io/archives" class="site-nav">
            Archives
          </a>
        
      
        
          <a href="https://zzydy.github.io//tags" class="site-nav">
            Tags
          </a>
        
      
        
          <a href="https://zzydy.github.io//post/about/" class="site-nav">
            About
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/zy080080" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      天青色等烟雨，而我在等你
    </div>
    <div class="site-footer">
      zzychat@outlook.com | <a class="rss" href="https://zzydy.github.io//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">MySQL</h2>
            <div class="post-date">2021-02-26 </div>
            
              <div class="feature-container" style="background-image: url('https://d1.awsstatic.com/asset-repository/products/amazon-rds/1024px-MySQL.ff87215b43fd7292af172e2a5d9b844217262571.png')">
              </div>
            
            <div class="post-content">
              <p>MySQL必知必会总结<br>
MySQL是最流行的关系型数据库管理系统。</p>
<!-- more -->
<h2 id="第六章-过滤数据">第六章 过滤数据</h2>
<h3 id="61-使用where子句">6.1 使用WHERE子句</h3>
<pre><code>SELECT prod_name prod_price
FROM products
WHERE prod_price = 2.50;
</code></pre>
<h3 id="62-where子句操作符">6.2 WHERE子句操作符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">操作符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">等于</td>
</tr>
<tr>
<td style="text-align:left">&lt;&gt;</td>
<td style="text-align:left">不等于</td>
</tr>
<tr>
<td style="text-align:left">!=</td>
<td style="text-align:left">不等于</td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">小于</td>
</tr>
<tr>
<td style="text-align:left">&lt;=</td>
<td style="text-align:left">小于等于</td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">大于</td>
</tr>
<tr>
<td style="text-align:left">&gt;=</td>
<td style="text-align:left">大于等于</td>
</tr>
<tr>
<td style="text-align:left">BETWEEN ... AND ...</td>
<td style="text-align:left">在指定两值之间</td>
</tr>
</tbody>
</table>
<h4 id="621-~-623">6.2.1 ~ 6.2.3</h4>
<p>测试表格操作符</p>
<h4 id="624-控制检查">6.2.4 控制检查</h4>
<pre><code>SELECT prod_name
FROM products
WHERE prod_price IS NULL

SELECT prod_name
FROM products
WHERE prod_price IS NOT NULL
</code></pre>
<h2 id="第七章-数据过滤">第七章 数据过滤</h2>
<h3 id="71-组合where子句">7.1 组合WHERE子句</h3>
<h4 id="711-and操作符">7.1.1 AND操作符</h4>
<pre><code>SELECT prod_id, prod_price, prod_name
FROM products
WHERE vend_id = 1003 AND prod_price &lt;= 10;
</code></pre>
<h4 id="712-or操作符">7.1.2 OR操作符</h4>
<pre><code>SELECT prod_name, prod_price
FROM products
WHERE vend_id = 1002 OR vend_id = 1003;
</code></pre>
<h4 id="713-计算次序">7.1.3 计算次序</h4>
<pre><code>SELECT prod_name, prod_price
FROM products
WHERE (vend_id = 1002 OR vend_id = 1003) AND prod_price &gt;= 10;
</code></pre>
<p>在WHERE子句中使用圆括号：<br>
任何时候使用具有AND和OR操作符的WHERE子句，都应该使用圆括号明确地分组操作符。不要过分依赖默认计算次序。</p>
<h3 id="73-in操作符">7.3 IN操作符</h3>
<pre><code>SELECT prod_name, prod_price
FROM products
WHERE vend_id IN (1002, 1003)
ORDER BY prod_name;
</code></pre>
<p>此语句与使用OR时具有相同的功能</p>
<pre><code>SELECT prod_name, prod_price
FROM products
WHERE vend_id = 1002 OR vend_id = 1003
ORDER BY prod_name;
</code></pre>
<p>使用IN操作符的优点：</p>
<ul>
<li>在使用长的合法选项清单时，IN操作符的语法更清楚而且更直观。</li>
<li>在使用IN时，计算的次序更容易管理（因为使用的操作符更少）。</li>
<li>IN操作符一般比OR操作符清单执行更快。</li>
<li>IN的最大优点是可以包含其他SELECT语句，使得能够更动态地建立WHERE子句（详见14章）。</li>
</ul>
<h3 id="73-not操作符">7.3 NOT操作符</h3>
<pre><code>SELECT prod_name, prod_price
FROM products
WHERE vend_id NOT IN (1002,1003)
ORDER BY prod_name;
</code></pre>
<h2 id="第八章-用通配符进行过滤">第八章 用通配符进行过滤</h2>
<h3 id="81-like操作符">8.1 LIKE操作符</h3>
<h4 id="811-百分号通配符">8.1.1 百分号通配符</h4>
<pre><code>SELECT prod_id, prod_name
FROM products
WHERE prod_name LIKE 'jet%';
</code></pre>
<p>搜索jet起头的词</p>
<pre><code>SELECT prod_id, prod_name
FROM products
WHERE prod_name LIKE '%anvil%';
</code></pre>
<p>搜索含有anvil的词</p>
<pre><code>SELECT prod_id, prod_name
FROM products
WHERE prod_name LIKE 's%e';
</code></pre>
<p>搜索s开头e结尾的词</p>
<p>注意：<br>
%不能匹配NULL</p>
<h4 id="812-下划线通配符">8.1.2 下划线通配符</h4>
<pre><code>SELECT prod_id, prod_name
FROM products
WHERE prod_name LIKE '_ ton anvil';
</code></pre>
<p>_总是匹配一个字符</p>
<h3 id="82-使用通配符的技巧">8.2 使用通配符的技巧</h3>
<p>通配符搜索的处理一般要比前面讨论的其他搜索所花时间更长</p>
<ul>
<li>不要过度使用通配符。如果其他操作符能达到相同的目的，应该使用其他操作符。</li>
<li>除非绝对有必要，否则不要把它们用在搜索模式的开始处。放在开始处的搜索是最慢的。</li>
<li>仔细注意通配符的位置。</li>
</ul>
<h2 id="第九章-使用正则表达式">第九章 使用正则表达式</h2>
<h3 id="92-使用mysql正则表达式">9.2 使用MySQL正则表达式</h3>
<h4 id="921-基本字符匹配">9.2.1 基本字符匹配</h4>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '1000'
ORDER BY prod_name;
</code></pre>
<p>查询含有1000的名称</p>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '.000'
ORDER BY prod_name;
</code></pre>
<h4 id="922-进行or匹配">9.2.2 进行OR匹配</h4>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '1000|2000'
ORDER BY prod_name;
</code></pre>
<h4 id="923-匹配几个字符之一">9.2.3 匹配几个字符之一</h4>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '[123] Ton'
ORDER BY prod_name;
</code></pre>
<h4 id="924-匹配范围">9.2.4 匹配范围</h4>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '[1-5] Ton'
ORDER BY prod_name;
</code></pre>
<h4 id="925-匹配特殊字符">9.2.5 匹配特殊字符</h4>
<pre><code>SELECT vend_name
FROM vendors
WHERE vend_name REGEXP '\\.'
ORDER BY vend_name;
</code></pre>
<p>为了匹配反斜杠（\）字符本身，要用\\。</p>
<p>MySQL要求两个反斜杠，MySQL自己解释一个，正则表达式库解释另一个。</p>
<h4 id="926-匹配字符类">9.2.6 匹配字符类</h4>
<table>
<thead>
<tr>
<th style="text-align:center">类</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">[:alnum:]</td>
<td>任意字母和数字（同[a-zA-Z0-9]）</td>
</tr>
<tr>
<td style="text-align:center">[:alpha:]</td>
<td>任意字符（同[a-zA-Z]）</td>
</tr>
<tr>
<td style="text-align:center">[:blank:]</td>
<td>空格和制表（同[\t]）</td>
</tr>
<tr>
<td style="text-align:center">[:cntrl:]</td>
<td>ASCII控制字符（ASCII0到31和127）</td>
</tr>
<tr>
<td style="text-align:center">[:digit:]</td>
<td>任意数字（同[0-9]）</td>
</tr>
<tr>
<td style="text-align:center">[:graph:]</td>
<td>与[:print:]相同，但不包括空格</td>
</tr>
<tr>
<td style="text-align:center">[:lower:]</td>
<td>任意小写字母（同[:lower:]）</td>
</tr>
<tr>
<td style="text-align:center">[:print:]</td>
<td>任意可打印字符</td>
</tr>
<tr>
<td style="text-align:center">[:punct:]</td>
<td>既不在[:alnum:]又不在[:cntrl:]中的任意字符</td>
</tr>
<tr>
<td style="text-align:center">[:space:]</td>
<td>包括空格在内的任意空白字符（同[\f\n\r\t\v]）</td>
</tr>
<tr>
<td style="text-align:center">[:upper:]</td>
<td>任意大写字母（同[A-Z]）</td>
</tr>
<tr>
<td style="text-align:center">[:xdigit:]</td>
<td>任意十六进制数字（同a-fA-F0-9）</td>
</tr>
</tbody>
</table>
<h4 id="927-匹配多个实例">9.2.7 匹配多个实例</h4>
<table>
<thead>
<tr>
<th>元字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>0个或多个匹配</td>
</tr>
<tr>
<td>+</td>
<td>1个或多个匹配（同{1,}）</td>
</tr>
<tr>
<td>?</td>
<td>0个或一个匹配（同{0,1}）</td>
</tr>
<tr>
<td>{n}</td>
<td>指定数目的匹配</td>
</tr>
<tr>
<td>{n,}</td>
<td>不少于指定数目的匹配</td>
</tr>
<tr>
<td>{n,m}</td>
<td>匹配数目的范围（m不超过255）</td>
</tr>
</tbody>
</table>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '\\([0-9] sticks?\\)'
ORDER BY prod_name;

SELECT prod_name
FROM products
WHERE prod_name REGEXP '[[:digit:]]{4}'
ORDER BY prod_name;
</code></pre>
<p>四个连续的数字，与下面的写法相同</p>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '[0-9][0-9][0-9][0-9]'
ORDER BY prod_name;
</code></pre>
<h4 id="928-定位符">9.2.8 定位符</h4>
<table>
<thead>
<tr>
<th>元字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>文本的开始</td>
</tr>
<tr>
<td>$</td>
<td>文本的结尾</td>
</tr>
<tr>
<td>[[:&lt;:]]</td>
<td>词的开始</td>
</tr>
<tr>
<td>[[:&gt;:]]</td>
<td>词的结尾</td>
</tr>
</tbody>
</table>
<pre><code>SELECT prod_name
FROM products
WHERE prod_name REGEXP '^[0-9\\.]'
ORDER BY prod_name;
</code></pre>
<p>LIKE匹配整个串而REGEXP匹配子串。</p>
<h2 id="第十章-创建拼接字段">第十章 创建拼接字段</h2>
<h3 id="102-拼接字段">10.2 拼接字段</h3>
<pre><code>SELECT Concat(vend_name, '(', vend_country, ')')
FROM vendors
ORDER BY vend_name;

SELECT Concat(RTrim(vend_name),'(',RTrim(vend_country),')')
FROM vendors
ORDER BY vend_name;
</code></pre>
<p>RTrim() 去除右边空格<br>
LTrim() 去除左边空格<br>
Trim()  去除两边空格</p>
<pre><code>SELECT Concat(RTrim(vend_name),'(',RTrim(vend_country),')') AS vend_title
FROM vendors
ORDER BY vend_name;
</code></pre>
<p>赋予新计算列别名</p>
<h3 id="103-执行算数计算">10.3 执行算数计算</h3>
<pre><code>SELECT prod_id, quantity, item_price, quantity*item_price AS enpanded_price
FROM orderitems
WHERE order_num = 20005;
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">操作符</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">加</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">减</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">乘</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">除</td>
</tr>
</tbody>
</table>
<h2 id="第十一章-使用数据处理函数">第十一章 使用数据处理函数</h2>
<h3 id="112-使用函数">11.2 使用函数</h3>
<h4 id="1121-文本处理函数">11.2.1 文本处理函数</h4>
<pre><code>SELECT vend_name, Upper(vend_name) AS vend_name_upcase
FROM vendors
ORDER BY vend_name;
</code></pre>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Left()</td>
<td>返回串左边的字符</td>
</tr>
<tr>
<td>Length()</td>
<td>返回串的长度</td>
</tr>
<tr>
<td>Locate()</td>
<td>找出串的一个子串</td>
</tr>
<tr>
<td>Lower()</td>
<td>将串转换为小写</td>
</tr>
<tr>
<td>LTrim()</td>
<td>去掉串左边的空格</td>
</tr>
<tr>
<td>Right()</td>
<td>返回串右边的字符</td>
</tr>
<tr>
<td>RTrim()</td>
<td>去掉串右边的空格</td>
</tr>
<tr>
<td>Soundex()</td>
<td>返回串的SOUNDEX值</td>
</tr>
<tr>
<td>SubString()</td>
<td>返回子串的字符</td>
</tr>
<tr>
<td>Upper()</td>
<td>将串转换为大写</td>
</tr>
</tbody>
</table>
<p>SOUNDEX是一个将任何文本串转换为描述其语音表示的字母数字模式的算法。SOUNDEX不是SQL概念，但MySQL提供对其的支持。</p>
<pre><code>SELECT cust_name, cust_contact
FROM customers
WHERE cust_contact = 'Y. Lie';
</code></pre>
<p>此句不会搜索出'Y Lee'，但使用SOUNDEX可搜索出。</p>
<pre><code>SELECT cust_name, cust_contact
FROM customers
WHERE Soundex(cust_contact) = Soundex('Y Lie');
</code></pre>
<h4 id="1122-日期和时间处理函数">11.2.2 日期和时间处理函数</h4>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>AddDate()</td>
<td>增加一个日期（天，周等）</td>
</tr>
<tr>
<td>AddTime()</td>
<td>增加一个时间（时，分等）</td>
</tr>
<tr>
<td>CurDate()</td>
<td>返回当前日期</td>
</tr>
<tr>
<td>CurTime()</td>
<td>返回当前时间</td>
</tr>
<tr>
<td>Date()</td>
<td>返回日期时间的日期部分</td>
</tr>
<tr>
<td>DateDiff()</td>
<td>计算两个日期之差</td>
</tr>
<tr>
<td>Date_Add()</td>
<td>高度灵活的日期运算函数</td>
</tr>
<tr>
<td>Date_Format()</td>
<td>返回一个格式化的日期或时间串</td>
</tr>
<tr>
<td>Day()</td>
<td>返回一个日期的天数部分</td>
</tr>
<tr>
<td>DayOfWeek()</td>
<td>对于一个日期，返回对应的星期几</td>
</tr>
<tr>
<td>Hour()</td>
<td>返回一个时间的小时部分</td>
</tr>
<tr>
<td>Minute()</td>
<td>返回一个时间的分钟部分</td>
</tr>
<tr>
<td>Month()</td>
<td>返回一个日期的月份部分</td>
</tr>
<tr>
<td>Now()</td>
<td>返回当前日期和时间</td>
</tr>
<tr>
<td>Second()</td>
<td>返回一个时间的秒部分</td>
</tr>
<tr>
<td>Time()</td>
<td>返回一个日期时间的时间部分</td>
</tr>
<tr>
<td>Year()</td>
<td>返回一个日期的年份部分</td>
</tr>
</tbody>
</table>
<p>日期格式必须为yyyy-mm-dd</p>
<pre><code>SELECT cust_id, order_num
FROM orders
WHERE order_date = '2005-09-01';
</code></pre>
<p>更可靠的语句：</p>
<pre><code>SELECT cust_id, order_num
FROM orders
WHERE Date(order_date) = '2005-09-01';
</code></pre>
<p>搜索某月的全部订单：</p>
<pre><code>SELECT cust_id, order_num
FROM orders
WHERE Date(order_date) BETWEEN '2005-09-01' AND '2005-09-30';
</code></pre>
<p>或者</p>
<pre><code>SELECT cust_id, order_num
FROM orders
WHERE Year(order_date) = 2005 AND Month(order_date) = 9;</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://zzydy.github.io/tag/EgqcbSedJ/" class="tag">
                    database
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://zzydy.github.io/post/uDwPfDRbx/">
                  <h3 class="post-title">
                    デバッガコマンド
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
